import{r as a,j as e,a1 as v}from"./vendor-77yDWcJJ.js";import{B as r}from"./Button-CI2oUu3j.js";import{C as y}from"./Card-B3nxRyRw.js";import{I as p}from"./Input-Bi6IGvP7.js";import{u as C,a as L}from"./index-rAj8BXmP.js";import{b as E,u as I}from"./router-YYQTkf18.js";import{L as S,f as k}from"./icons-DL2PgYE_.js";import"./firebase-DCzW8K6T.js";const z="/Loom-Studio/assets/icon-D2jo8wIC.png",R=()=>{const{user:c,signInWithGoogle:u,signInAsGuest:d,signInWithEmail:f,registerWithEmail:h,loading:i,error:m}=C(),{t:s}=L(),x=E(),g=I().state?.from?.pathname||"/app",[n,j]=a.useState("login"),[o,b]=a.useState(""),[l,w]=a.useState("");a.useEffect(()=>{c&&x(g,{replace:!0})},[g,x,c]);const N=async()=>{n==="login"?await f(o,l):await h(o,l)};return e.jsx("div",{className:"user-select-none flex min-h-screen items-center justify-center px-4 py-10",children:e.jsxs(y,{className:"w-full max-w-md bg-white/80 p-6 ",children:[e.jsxs("div",{className:"mb-5 space-y-1 text-center",children:[e.jsx("img",{src:z,alt:"Loom",className:"mx-auto h-12 w-12 object-contain"}),e.jsx("p",{className:"text-lg font-semibold text-[#0f172a]",children:s("login.title")}),e.jsx("p",{className:"text-sm text-[#475569]",children:s("login.subtitle")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{placeholder:s("login.email"),type:"email",value:o,onChange:t=>b(t.target.value)}),e.jsx(p,{placeholder:s("login.password"),type:"password",value:l,onChange:t=>w(t.target.value)}),e.jsx(r,{onClick:N,disabled:i,variant:"primary",className:"w-full rounded-full",children:s(n==="login"?"login.signin":"login.signup")}),e.jsx("button",{type:"button",onClick:()=>j(t=>t==="login"?"register":"login"),className:"w-full text-center text-xs font-semibold text-[#475569] hover:text-[#0f172a]",children:s(n==="login"?"login.switchToSignup":"login.switchToLogin")}),e.jsxs("div",{className:"flex items-center gap-2 text-[12px] uppercase tracking-[0.3em] text-[#cbd5e1]",children:[e.jsx("span",{className:"h-px flex-1 bg-[#e2e8f0]"}),e.jsx("span",{children:s("common.or","oppure")}),e.jsx("span",{className:"h-px flex-1 bg-[#e2e8f0]"})]})]}),e.jsxs(r,{onClick:u,disabled:i,variant:"secondary",className:"flex w-full items-center justify-center gap-3 rounded-full bg-white/90 text-[#0f172a]",children:[i?e.jsx(S,{size:16,className:"animate-spin"}):e.jsx(v,{size:18}),e.jsx("span",{children:s("login.google")})]}),e.jsxs(r,{type:"button",onClick:d,variant:"ghost",className:"flex w-full items-center justify-center gap-2 rounded-full py-3 text-[#0f172a]",children:[e.jsx(k,{size:16})," ",s("login.guest")]})]}),m&&e.jsx("p",{className:"mt-3 text-center text-sm text-[#b11226]",children:m})]})})};export{R as LoginPage};
